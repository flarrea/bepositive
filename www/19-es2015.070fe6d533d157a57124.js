(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{snDc:function(t,e,o){"use strict";o.r(e),o.d(e,"DetallePageModule",(function(){return g}));var i=o("ofXK"),n=o("3Pt+"),a=o("TEn/"),r=o("tyNb"),s=o("mrSG"),c=o("euSA"),b=o("LvDl"),l=o.n(b),h=o("fXoL"),d=o("H+bZ"),p=o("EAfB"),u=o("/XPu");function f(t,e){if(1&t){const t=h.Ob();h.Nb(0,"ion-button",12),h.Vb("click",(function(){return h.ec(t),h.Xb().presentActionSheet()})),h.ic(1," Options "),h.Mb()}}const m=[{path:"",component:(()=>{class t{constructor(t,e,o,i,n,a,r){this.activatedRoute=t,this.apiService=e,this.favService=o,this.actionSheetCtrl=i,this.alertCtrl=n,this.socialSharing=a,this.modalCtrl=r,this.consejo=null}ngOnInit(){let t=this.activatedRoute.snapshot.paramMap.get("id");this.consejo=l.a.find(this.apiService.consejos,["ID",parseInt(t)]),this.isFavorite=-1!=this.favService.favIDs.indexOf(parseInt(t))}presentActionSheet(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){const t=yield this.actionSheetCtrl.create({header:"Consejo",buttons:[{text:"Solicitud",handler:()=>{this.presentModal()}},{text:this.isFavorite?"Remover de Favoritos":"Agregar a Favoritos",role:this.isFavorite?"destructive":"",handler:()=>{this.isFavorite?this.presentAlert():(this.favService.add(this.consejo),this.isFavorite=!0)}},{text:"Cancelar",role:"cancel"}]});yield t.present()}))}presentAlert(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){const t=yield this.alertCtrl.create({header:"Remover Favorito?",message:"\xbfDe verdad quieres eliminar este favorito?",buttons:[{text:"No"},{text:"S\xed",handler:()=>{this.favService.remove(this.consejo),this.isFavorite=!1}}]});yield t.present()}))}toggleSocial(){this.showSocial=!this.showSocial}openSocial(t){const e="BePositive",o="{{consejo.Imagen}}",i='BePositive te ofrece orientaci\xf3n y ayuda "'+this.consejo.Nombre+'".\n\n\xbfEst\xe1 usted en?\n\nEnviado desde mi aplicaci\xf3n BePositive';this.socialSharing.canShareVia(t,i,e,o).then(()=>{switch(t){case"facebook":this.socialSharing.shareViaFacebook(i,o);break;case"instagram":this.socialSharing.shareViaInstagram(i,o);break;case"twitter":this.socialSharing.shareViaTwitter(i,o);break;case"whatsapp":this.socialSharing.shareViaWhatsApp(i,o)}}).catch(()=>{this.errorOpenSocial(t,i,e,o)})}errorOpenSocial(t,e,o,i){return Object(s.__awaiter)(this,void 0,void 0,(function*(){const n=yield this.alertCtrl.create({header:t+" no funciona!",message:"Desafortunadamente, se produjo un error al compartir a trav\xe9s de "+t+"!\n\n\xbfTe gustar\xeda probar una alternativa?",buttons:[{text:"No"},{text:"Simple email",handler:()=>{const t=e.replace(new RegExp("\n","g"),"%0A");window.location.href="mailto:?subject="+o+"&body="+t}},{text:"S\xed, absolutamente",handler:()=>{this.socialSharing.share(e,o,i)}}]});yield n.present()}))}presentModal(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){(yield this.modalCtrl.create({component:c.a,componentProps:this.consejo})).present()}))}}return t.\u0275fac=function(e){return new(e||t)(h.Kb(r.a),h.Kb(d.a),h.Kb(p.a),h.Kb(a.a),h.Kb(a.b),h.Kb(u.a),h.Kb(a.S))},t.\u0275cmp=h.Eb({type:t,selectors:[["app-detalle"]],decls:37,vars:6,consts:[["color","primary"],["slot","start"],["defaultHref","/tabs/consejos"],["slot","end"],["src","https://firebasestorage.googleapis.com/v0/b/sophi-optimism-2020.appspot.com/o/imagenes%2Fimgsocial.png?alt=media&token=70bd5960-b560-415b-a90b-7cc1383d71ab"],[2,"font-weight","600","color","rgba(39, 39, 39, 0.81)","font-size","16px"],[2,"font-weight","600","color","rgb(133, 133, 133)","font-size","14px"],[1,"ion-padding"],[3,"src"],["vertical","top","horizontal","end","slot","fixed",3,"click"],["name","share-social"],["side","botton"],[3,"click"],["name","logo-facebook"],["name","logo-instagram"],["name","logo-twitter"],["name","logo-whatsapp"],[1,"ion-padding",2,"height","80px"],[3,"click",4,"ngIf"]],template:function(t,e){1&t&&(h.Nb(0,"ion-header"),h.Nb(1,"ion-toolbar",0),h.Nb(2,"ion-buttons",1),h.Lb(3,"ion-back-button",2),h.Mb(),h.Nb(4,"ion-avatar",3),h.Lb(5,"img",4),h.Mb(),h.Nb(6,"ion-card-content"),h.Nb(7,"h4",5),h.ic(8," Detalles "),h.Mb(),h.Nb(9,"h6",6),h.ic(10," Precisemos m\xe1s. "),h.Mb(),h.Mb(),h.Mb(),h.Mb(),h.Nb(11,"ion-content",7),h.Nb(12,"ion-card"),h.Nb(13,"ion-card-header"),h.Nb(14,"ion-card-subtitle"),h.ic(15),h.Mb(),h.Nb(16,"ion-card-title"),h.ic(17),h.Mb(),h.Mb(),h.Nb(18,"ion-card-content"),h.Lb(19,"ion-img",8),h.Lb(20,"hr"),h.ic(21),h.Lb(22,"hr"),h.Mb(),h.Mb(),h.Nb(23,"ion-fab",9),h.Vb("click",(function(){return e.toggleSocial()})),h.Nb(24,"ion-fab-button"),h.Lb(25,"ion-icon",10),h.Mb(),h.Nb(26,"ion-fab-list",11),h.Nb(27,"ion-fab-button",12),h.Vb("click",(function(){return e.openSocial("facebook")})),h.Lb(28,"ion-icon",13),h.Mb(),h.Nb(29,"ion-fab-button",12),h.Vb("click",(function(){return e.openSocial("instagram")})),h.Lb(30,"ion-icon",14),h.Mb(),h.Nb(31,"ion-fab-button",12),h.Vb("click",(function(){return e.openSocial("twitter")})),h.Lb(32,"ion-icon",15),h.Mb(),h.Nb(33,"ion-fab-button",12),h.Vb("click",(function(){return e.openSocial("whatsapp")})),h.Lb(34,"ion-icon",16),h.Mb(),h.Mb(),h.Mb(),h.Mb(),h.Nb(35,"ion-footer",17),h.hc(36,f,2,0,"ion-button",18),h.Mb()),2&t&&(h.Ab(15),h.lc(" ",e.consejo.Nombre," / ",e.consejo.Nombre," "),h.Ab(2),h.kc(" ",e.consejo.Nombre," "),h.Ab(2),h.bc("src",e.consejo.Imagen),h.Ab(2),h.kc(" ",e.consejo.Texto," "),h.Ab(15),h.ac("ngIf",!e.showSocial))},directives:[a.v,a.O,a.h,a.e,a.f,a.d,a.j,a.o,a.i,a.k,a.l,a.m,a.x,a.q,a.r,a.w,a.s,a.t,i.i,a.g],styles:[""]}),t})()}];let v=(()=>{class t{}return t.\u0275mod=h.Ib({type:t}),t.\u0275inj=h.Hb({factory:function(e){return new(e||t)},imports:[[r.i.forChild(m)],r.i]}),t})(),g=(()=>{class t{}return t.\u0275mod=h.Ib({type:t}),t.\u0275inj=h.Hb({factory:function(e){return new(e||t)},imports:[[i.b,n.d,a.P,v]]}),t})()}}]);