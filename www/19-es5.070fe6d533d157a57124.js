function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{snDc:function(e,t,n){"use strict";n.r(t),n.d(t,"DetallePageModule",(function(){return S}));var o=n("ofXK"),i=n("3Pt+"),a=n("TEn/"),r=n("tyNb"),c=n("mrSG"),s=n("euSA"),b=n("LvDl"),l=n.n(b),u=n("fXoL"),h=n("H+bZ"),f=n("EAfB"),p=n("/XPu");function d(e,t){if(1&e){var n=u.Ob();u.Nb(0,"ion-button",12),u.Vb("click",(function(){return u.ec(n),u.Xb().presentActionSheet()})),u.ic(1," Options "),u.Mb()}}var v,m,g,w=[{path:"",component:(v=function(){function e(t,n,o,i,a,r,c){_classCallCheck(this,e),this.activatedRoute=t,this.apiService=n,this.favService=o,this.actionSheetCtrl=i,this.alertCtrl=a,this.socialSharing=r,this.modalCtrl=c,this.consejo=null}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this.activatedRoute.snapshot.paramMap.get("id");this.consejo=l.a.find(this.apiService.consejos,["ID",parseInt(e)]),this.isFavorite=-1!=this.favService.favIDs.indexOf(parseInt(e))}},{key:"presentActionSheet",value:function(){return Object(c.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.actionSheetCtrl.create({header:"Consejo",buttons:[{text:"Solicitud",handler:function(){n.presentModal()}},{text:this.isFavorite?"Remover de Favoritos":"Agregar a Favoritos",role:this.isFavorite?"destructive":"",handler:function(){n.isFavorite?n.presentAlert():(n.favService.add(n.consejo),n.isFavorite=!0)}},{text:"Cancelar",role:"cancel"}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"presentAlert",value:function(){return Object(c.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertCtrl.create({header:"Remover Favorito?",message:"\xbfDe verdad quieres eliminar este favorito?",buttons:[{text:"No"},{text:"S\xed",handler:function(){n.favService.remove(n.consejo),n.isFavorite=!1}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"toggleSocial",value:function(){this.showSocial=!this.showSocial}},{key:"openSocial",value:function(e){var t=this,n="BePositive",o="{{consejo.Imagen}}",i='BePositive te ofrece orientaci\xf3n y ayuda "'+this.consejo.Nombre+'".\n\n\xbfEst\xe1 usted en?\n\nEnviado desde mi aplicaci\xf3n BePositive';this.socialSharing.canShareVia(e,i,n,o).then((function(){switch(e){case"facebook":t.socialSharing.shareViaFacebook(i,o);break;case"instagram":t.socialSharing.shareViaInstagram(i,o);break;case"twitter":t.socialSharing.shareViaTwitter(i,o);break;case"whatsapp":t.socialSharing.shareViaWhatsApp(i,o)}})).catch((function(){t.errorOpenSocial(e,i,n,o)}))}},{key:"errorOpenSocial",value:function(e,t,n,o){return Object(c.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,r=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.alertCtrl.create({header:e+" no funciona!",message:"Desafortunadamente, se produjo un error al compartir a trav\xe9s de "+e+"!\n\n\xbfTe gustar\xeda probar una alternativa?",buttons:[{text:"No"},{text:"Simple email",handler:function(){var e=t.replace(new RegExp("\n","g"),"%0A");window.location.href="mailto:?subject="+n+"&body="+e}},{text:"S\xed, absolutamente",handler:function(){r.socialSharing.share(t,n,o)}}]});case 2:return a=i.sent,i.next=5,a.present();case 5:case"end":return i.stop()}}),i,this)})))}},{key:"presentModal",value:function(){return Object(c.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:s.a,componentProps:this.consejo});case 2:e.sent.present();case 3:case"end":return e.stop()}}),e,this)})))}}]),e}(),v.\u0275fac=function(e){return new(e||v)(u.Kb(r.a),u.Kb(h.a),u.Kb(f.a),u.Kb(a.a),u.Kb(a.b),u.Kb(p.a),u.Kb(a.S))},v.\u0275cmp=u.Eb({type:v,selectors:[["app-detalle"]],decls:37,vars:6,consts:[["color","primary"],["slot","start"],["defaultHref","/tabs/consejos"],["slot","end"],["src","https://firebasestorage.googleapis.com/v0/b/sophi-optimism-2020.appspot.com/o/imagenes%2Fimgsocial.png?alt=media&token=70bd5960-b560-415b-a90b-7cc1383d71ab"],[2,"font-weight","600","color","rgba(39, 39, 39, 0.81)","font-size","16px"],[2,"font-weight","600","color","rgb(133, 133, 133)","font-size","14px"],[1,"ion-padding"],[3,"src"],["vertical","top","horizontal","end","slot","fixed",3,"click"],["name","share-social"],["side","botton"],[3,"click"],["name","logo-facebook"],["name","logo-instagram"],["name","logo-twitter"],["name","logo-whatsapp"],[1,"ion-padding",2,"height","80px"],[3,"click",4,"ngIf"]],template:function(e,t){1&e&&(u.Nb(0,"ion-header"),u.Nb(1,"ion-toolbar",0),u.Nb(2,"ion-buttons",1),u.Lb(3,"ion-back-button",2),u.Mb(),u.Nb(4,"ion-avatar",3),u.Lb(5,"img",4),u.Mb(),u.Nb(6,"ion-card-content"),u.Nb(7,"h4",5),u.ic(8," Detalles "),u.Mb(),u.Nb(9,"h6",6),u.ic(10," Precisemos m\xe1s. "),u.Mb(),u.Mb(),u.Mb(),u.Mb(),u.Nb(11,"ion-content",7),u.Nb(12,"ion-card"),u.Nb(13,"ion-card-header"),u.Nb(14,"ion-card-subtitle"),u.ic(15),u.Mb(),u.Nb(16,"ion-card-title"),u.ic(17),u.Mb(),u.Mb(),u.Nb(18,"ion-card-content"),u.Lb(19,"ion-img",8),u.Lb(20,"hr"),u.ic(21),u.Lb(22,"hr"),u.Mb(),u.Mb(),u.Nb(23,"ion-fab",9),u.Vb("click",(function(){return t.toggleSocial()})),u.Nb(24,"ion-fab-button"),u.Lb(25,"ion-icon",10),u.Mb(),u.Nb(26,"ion-fab-list",11),u.Nb(27,"ion-fab-button",12),u.Vb("click",(function(){return t.openSocial("facebook")})),u.Lb(28,"ion-icon",13),u.Mb(),u.Nb(29,"ion-fab-button",12),u.Vb("click",(function(){return t.openSocial("instagram")})),u.Lb(30,"ion-icon",14),u.Mb(),u.Nb(31,"ion-fab-button",12),u.Vb("click",(function(){return t.openSocial("twitter")})),u.Lb(32,"ion-icon",15),u.Mb(),u.Nb(33,"ion-fab-button",12),u.Vb("click",(function(){return t.openSocial("whatsapp")})),u.Lb(34,"ion-icon",16),u.Mb(),u.Mb(),u.Mb(),u.Mb(),u.Nb(35,"ion-footer",17),u.hc(36,d,2,0,"ion-button",18),u.Mb()),2&e&&(u.Ab(15),u.lc(" ",t.consejo.Nombre," / ",t.consejo.Nombre," "),u.Ab(2),u.kc(" ",t.consejo.Nombre," "),u.Ab(2),u.bc("src",t.consejo.Imagen),u.Ab(2),u.kc(" ",t.consejo.Texto," "),u.Ab(15),u.ac("ngIf",!t.showSocial))},directives:[a.v,a.O,a.h,a.e,a.f,a.d,a.j,a.o,a.i,a.k,a.l,a.m,a.x,a.q,a.r,a.w,a.s,a.t,o.i,a.g],styles:[""]}),v)}],k=((g=function e(){_classCallCheck(this,e)}).\u0275mod=u.Ib({type:g}),g.\u0275inj=u.Hb({factory:function(e){return new(e||g)},imports:[[r.i.forChild(w)],r.i]}),g),S=((m=function e(){_classCallCheck(this,e)}).\u0275mod=u.Ib({type:m}),m.\u0275inj=u.Hb({factory:function(e){return new(e||m)},imports:[[o.b,i.d,a.P,k]]}),m)}}]);